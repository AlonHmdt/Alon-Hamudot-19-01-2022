{"version":3,"sources":["webpack:///src/app/components/favorites/favorites.component.ts","webpack:///src/app/components/favorites/favorites.component.html","webpack:///src/app/components/favorites/favorites.module.ts","webpack:///src/app/models/city.model.ts"],"names":["FavoritesComponent","store","favouritesSub","select","subscribe","res","items","favourites","cityWeatherCard","city","Key","LocalizedName","CityName","dispatch","unsubscribe","selector","templateUrl","styleUrls","routes","path","component","FavoritesModule","forChild","declarations","imports","providers","City"],"mappings":";;;;;;;;;;;;;;;;;;;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;;;;;ACCE;;AAAoG;AAAA;;AAAA;;AAAA;;AAAA;AAAA;;AAClG;;AAAG;;AAAiB;;AACpB;;AAAG;;;;AAA0D;;AAC/D;;;;;;AAFK;;AAAA;;AACA;;AAAA;;;;QDUMA,kB;AAIX,kCAAoBC,KAApB,EAAiE;AAAA;;AAA7C,aAAAA,KAAA,GAAAA,KAAA;AAFpB,aAAAC,aAAA,GAAgB,IAAI,iDAAJ,EAAhB;AAGC;;;;eAED,oBAAW;AAAA;;AACT,eAAKA,aAAL,GAAqB,KAAKD,KAAL,CAAWE,MAAX,CAAkB,oBAAlB,EAAwCC,SAAxC,CAAkD,UAAAC,GAAG,EAAI;AAC5E,iBAAI,CAACC,KAAL,GAAaD,GAAG,CAACE,UAAjB;AACD,WAFoB,CAArB;AAGD;;;eAED,kBAASC,eAAT,EAAyC;AACvC,cAAMC,IAAI,GAAG,IAAI,uDAAJ,EAAb;AACAA,cAAI,CAACC,GAAL,GAAWF,eAAe,CAACE,GAA3B;AACAD,cAAI,CAACE,aAAL,GAAqBH,eAAe,CAACI,QAArC;AACA,eAAKX,KAAL,CAAWY,QAAX,CAAoB,IAAI,gFAAJ,CAA0CJ,IAA1C,CAApB;AACD;;;eAED,uBAAc;AACZ,eAAKP,aAAL,CAAmBY,WAAnB;AACD;;;;;;;uBAtBUd,kB,EAAkB,kH;AAAA,K;;;YAAlBA,kB;AAAkB,oC;AAAA,c;AAAA,a;AAAA,oT;AAAA;AAAA;ACb/B;;AACE;;AAIF;;;;AAJ2E;;AAAA;;;;;;;;;;sEDY9DA,kB,EAAkB;cAL9B,uDAK8B;eALpB;AACTe,kBAAQ,EAAE,eADD;AAETC,qBAAW,EAAE,4BAFJ;AAGTC,mBAAS,EAAE,CAAC,4BAAD;AAHF,S;AAKoB,Q;;;;;;;;;;;;;;;;;;;;;;AEb/B;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;AAOA,QAAMC,MAAM,GAAW,CACrB;AACEC,UAAI,EAAE,EADR;AAEEC,eAAS,EAAE;AAFb,KADqB,CAAvB;;QAkBaC,e;;;;;YAAAA;;;;yBAAAA,e;AAAe,O;AAAA,iBAFf,E;AAAE,gBALJ,CACP,4DADO,EAEP,6DAAaC,QAAb,CAAsBJ,MAAtB,CAFO,EAGP,sEAHO,CAKI;;;;0HAEFG,e,EAAe;AAAA,uBATxB,uEASwB;AATN,kBAGlB,4DAHkB,EAGN,4DAHM,EAKlB,sEALkB;AASM,O;AAJV,K;;;;;sEAILA,e,EAAe;cAX3B,sDAW2B;eAXlB;AACRE,sBAAY,EAAE,CACZ,uEADY,CADN;AAIRC,iBAAO,EAAE,CACP,4DADO,EAEP,6DAAaF,QAAb,CAAsBJ,MAAtB,CAFO,EAGP,sEAHO,CAJD;AASRO,mBAAS,EAAE;AATH,S;AAWkB,Q;;;;;;;;;;;;;;;;;;ACzB5B;AAAA;;;AAAA;AAAA;AAAA;;QAAaC,I","file":"components-favorites-favorites-module-es5.js","sourcesContent":["import {Component, OnDestroy, OnInit} from '@angular/core';\r\nimport {Store} from '@ngrx/store';\r\nimport {Subscription} from 'rxjs';\r\nimport {CityWeatherCard} from '../../models/city-weather-card.model';\r\nimport {City} from '../../models/city.model';\r\nimport {State} from '../../reducers/city-weather.reducer';\r\nimport * as CityForeCastActions from '../../actions/city-forecast.actions';\r\n\r\n@Component({\r\n  selector: 'app-favorites',\r\n  templateUrl: './favorites.component.html',\r\n  styleUrls: ['./favorites.component.scss']\r\n})\r\nexport class FavoritesComponent implements OnInit, OnDestroy {\r\n  items: CityWeatherCard[];\r\n  favouritesSub = new Subscription();\r\n\r\n  constructor(private store: Store<{ cityWeatherReducer: State }>) {\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.favouritesSub = this.store.select('cityWeatherReducer').subscribe(res => {\r\n      this.items = res.favourites;\r\n    });\r\n  }\r\n\r\n  showCity(cityWeatherCard: CityWeatherCard): void {\r\n    const city = new City();\r\n    city.Key = cityWeatherCard.Key;\r\n    city.LocalizedName = cityWeatherCard.CityName;\r\n    this.store.dispatch(new CityForeCastActions.FetchCityForecast(city));\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    this.favouritesSub.unsubscribe();\r\n  }\r\n}\r\n","<div class=\"d-flex flex-wrap mt-3 justify-content-lg-start justify-content-around\">\r\n  <div class=\"p-4 favourite-item m-3 pointer font-weight-bold text-center\" *ngFor=\"let item of items\" (click)=\"showCity(item)\">\r\n    <p>{{item.CityName}}</p>\r\n    <p>{{item.Current.Temperature['Metric']['Value'] | unitSign}}</p>\r\n  </div>\r\n</div>\r\n\r\n","import {NgModule} from '@angular/core';\r\nimport {RouterModule, Routes} from '@angular/router';\r\n\r\nimport {FavoritesComponent} from './favorites.component';\r\nimport {CommonModule} from '@angular/common';\r\nimport {AppPipesModule} from '../../pipes/app-pipes.module';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: FavoritesComponent\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  declarations: [\r\n    FavoritesComponent\r\n  ],\r\n  imports: [\r\n    CommonModule,\r\n    RouterModule.forChild(routes),\r\n    AppPipesModule\r\n  ],\r\n  providers: [],\r\n})\r\nexport class FavoritesModule {\r\n}\r\n","export class City {\r\n  Key: number;\r\n  LocalizedName: string;\r\n}\r\n"]}