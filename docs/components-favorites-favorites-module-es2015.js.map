{"version":3,"sources":["./src/app/components/favorites/favorites.component.ts","./src/app/components/favorites/favorites.component.html","./src/app/components/favorites/favorites.module.ts","./src/app/models/city.model.ts"],"names":[],"mappings":";;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAA2D;AAEzB;AAEW;AAE8B;;;;;;;;ICLzE,yEACE;IADkG,wVAAwB;IAC1H,oEAAG;IAAA,uDAAiB;IAAA,4DAAI;IACxB,oEAAG;IAAA,uDAAoD;;IAAA,4DAAI;IAC3D,oEACF;;IAAA,4DAAM;;;IAHD,0DAAiB;IAAjB,iFAAiB;IACjB,0DAAoD;IAApD,0KAAoD;IAClD,0DAA2G;IAA3G,6SAA2G;;;IAElH,uEAA2D;IAAA,4EAAiB;IAAA,4DAAI;;ADO3E,MAAM,kBAAkB;IAI7B,YAAoB,KAA2C;QAA3C,UAAK,GAAL,KAAK,CAAsC;QAF/D,kBAAa,GAAG,IAAI,iDAAY,EAAE,CAAC;IAGnC,CAAC;IAED,QAAQ;QACN,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,oBAAoB,CAAC,CAAC,SAAS,CAAC,GAAG,CAAC,EAAE;YAC3E,IAAI,CAAC,KAAK,GAAG,GAAG,CAAC,UAAU,CAAC;QAC9B,CAAC,CAAC,CAAC;IACL,CAAC;IAED,QAAQ,CAAC,eAAgC;QACvC,MAAM,IAAI,GAAG,IAAI,uDAAI,EAAE,CAAC;QACxB,IAAI,CAAC,GAAG,GAAG,eAAe,CAAC,GAAG,CAAC;QAC/B,IAAI,CAAC,aAAa,GAAG,eAAe,CAAC,QAAQ,CAAC;QAC9C,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,IAAI,gFAAqC,CAAC,IAAI,CAAC,CAAC,CAAC;IACvE,CAAC;IAED,WAAW;QACT,IAAI,IAAI,CAAC,aAAa,EAAE;YACtB,IAAI,CAAC,aAAa,CAAC,WAAW,EAAE,CAAC;SAClC;IACH,CAAC;;oFAxBU,kBAAkB;kGAAlB,kBAAkB;QCb/B,yEACE;QAAA,8GACE;QAIF,0GAA2D;QAC7D,4DAAM;;QANqE,0DAA0B;QAA1B,8EAA0B;QAKnE,0DAA0B;QAA1B,wFAA0B;;6FDO/C,kBAAkB;cAL9B,uDAAS;eAAC;gBACT,QAAQ,EAAE,eAAe;gBACzB,WAAW,EAAE,4BAA4B;gBACzC,SAAS,EAAE,CAAC,4BAA4B,CAAC;aAC1C;;;;;;;;;;;;;;AEZD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAuC;AACM;AACQ;AAEI;AACG;;;AAE5D,MAAM,MAAM,GAAW;IACrB;QACE,IAAI,EAAE,EAAE;QACR,SAAS,EAAE,uEAAkB;KAC9B;CACF,CAAC;AAaK,MAAM,eAAe;;8FAAf,eAAe;wJAAf,eAAe,mBAFf,EAAE,YALJ;YACP,4DAAY;YACZ,4DAAY,CAAC,QAAQ,CAAC,MAAM,CAAC;YAC7B,sEAAc;SACf;mIAGU,eAAe,mBATxB,uEAAkB,aAGlB,4DAAY,gEAEZ,sEAAc;6FAIL,eAAe;cAX3B,sDAAQ;eAAC;gBACR,YAAY,EAAE;oBACZ,uEAAkB;iBACnB;gBACD,OAAO,EAAE;oBACP,4DAAY;oBACZ,4DAAY,CAAC,QAAQ,CAAC,MAAM,CAAC;oBAC7B,sEAAc;iBACf;gBACD,SAAS,EAAE,EAAE;aACd;;;;;;;;;;;;;;ACxBD;AAAA;AAAO,MAAM,IAAI;CAGhB","file":"components-favorites-favorites-module-es2015.js","sourcesContent":["import {Component, OnDestroy, OnInit} from '@angular/core';\r\nimport {Store} from '@ngrx/store';\r\nimport {Subscription} from 'rxjs';\r\nimport {CityWeatherCard} from '../../models/city-weather-card.model';\r\nimport {City} from '../../models/city.model';\r\nimport {State} from '../../reducers/city-weather.reducer';\r\nimport * as CityForeCastActions from '../../actions/city-forecast.actions';\r\n\r\n@Component({\r\n  selector: 'app-favorites',\r\n  templateUrl: './favorites.component.html',\r\n  styleUrls: ['./favorites.component.scss']\r\n})\r\nexport class FavoritesComponent implements OnInit, OnDestroy {\r\n  items: CityWeatherCard[];\r\n  favouritesSub = new Subscription();\r\n\r\n  constructor(private store: Store<{ cityWeatherReducer: State }>) {\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.favouritesSub = this.store.select('cityWeatherReducer').subscribe(res => {\r\n      this.items = res.favourites;\r\n    });\r\n  }\r\n\r\n  showCity(cityWeatherCard: CityWeatherCard): void {\r\n    const city = new City();\r\n    city.Key = cityWeatherCard.Key;\r\n    city.LocalizedName = cityWeatherCard.CityName;\r\n    this.store.dispatch(new CityForeCastActions.FetchCityForecast(city));\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    if (this.favouritesSub) {\r\n      this.favouritesSub.unsubscribe();\r\n    }\r\n  }\r\n}\r\n","<div class=\"d-flex flex-wrap mt-3 justify-content-lg-start justify-content-around\">\r\n  <div class=\"p-4 favourite-item m-3 pointer font-weight-bold text-center\" *ngFor=\"let item of items\" (click)=\"showCity(item)\">\r\n    <p>{{item.CityName}}</p>\r\n    <p>{{item.Current.Temperature.Metric.Value | unitSign}}</p>\r\n    <img src=\"https://developer.accuweather.com/sites/default/files/{{item.Current.WeatherIcon | zeroPad: 2}}-s.png\">\r\n  </div>\r\n  <p class=\"h4 text-center w-100\" *ngIf=\"items.length === 0\">No favourites yet</p>\r\n</div>\r\n\r\n","import {NgModule} from '@angular/core';\r\nimport {CommonModule} from '@angular/common';\r\nimport {RouterModule, Routes} from '@angular/router';\r\n\r\nimport {FavoritesComponent} from './favorites.component';\r\nimport {AppPipesModule} from '../../pipes/app-pipes.module';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: FavoritesComponent\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  declarations: [\r\n    FavoritesComponent\r\n  ],\r\n  imports: [\r\n    CommonModule,\r\n    RouterModule.forChild(routes),\r\n    AppPipesModule\r\n  ],\r\n  providers: [],\r\n})\r\nexport class FavoritesModule {\r\n}\r\n","export class City {\r\n  Key: number;\r\n  LocalizedName: string;\r\n}\r\n"],"sourceRoot":"webpack:///"}